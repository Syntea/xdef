<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="description" content="Example of construction mode in X-definition" />
    <meta name="keywords" content="Example, construction mode, compose, create, X-definition, Xdefinition, XXDEF" />
    <meta name="description" content="Online XML data construction with X-definition" />
    <meta name="keywords" content="XML, data contruction, compose, create, transform, XML transformation, XSLT, X-definition, Xdefinition, XDEF" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="/tutorial/styles/lineNumbers.js"> </script>
    <script src="/tutorial/styles/lineNumbers_1.js"> </script>
    <style>.A{min-height:17rem;max-height:17rem;display:flex;overflow:hidden;}</style>    
    <style>.B{min-height:16rem;max-height:16rem;display:flex;overflow:hidden;}</style>
    <title>Example of compose mode of X-definition</title>
  </head>
  <body text="#000000" bgcolor="#EAFFFD" link="#000080" vlink="#0000FF" alink="#808080">
    <form method="post" action="/tutorial/Examples">
      <p style="font: Tahoma; font-size: 13px;">
This example illustrates how to build an XML element from input data. Note that
the structure of the input XML element and the structure of the output element
are different. In this way it is possible to use the X-definition to transform
XML input data. Note also that "<tt>from</tt>" methods have arguments with the 
string as XPATH expression.
      </p>
      <b>X-definition</b>
      <div class="A">
        <div id="line-numbers"></div>
        <textarea id="textarea" style="width: 100%;" name="xdef">
&lt;xd:def xmlns:xd="http://www.xdef.org/xdef/4.2" xd:name="GenContract" >
  &lt;Contract ProcessedDate="required dateTime(); create now();"
       ConractId="required num(10); create from('@num');" >
    &lt;Owner xd:script="occurs 1; create from('Client[@role=\'1\']');" 
       CompanyId="required num(8); create from('@cId');"
       Name     ="required string(1,30); create from('@name');" />
    &lt;Holder xd:script="occurs 1; create from('Client[@role=\'2\']');" 
       PersonalId="required string(10,11); create from('@pId');"
       Firstname ="required string(1,30); create from('@firstname');"
       Lastname  ="required string(1,30); create from('@familyname');" />
    &lt;Policyholder xd:script="occurs 1; create from('Client[@role=\'3\']');"
       CompanyId="required num(8); create from('@cId');"
       Name     ="required string(1,30); create from('@firstname') + ' ' + from('@familyname');"/>
  &lt;/Contract>
&lt;/xd:def>
</textarea>
      </div>
      <b>Input data</b>
      <div class="B">
        <div id="line-numbers_1"></div>
        <textarea id="textarea_1" style="width: 100%;" name="data">
&lt;Contract num = "0123456789">
  &lt;Client role       = "1"
      name       = "Some Company Ltd"
      cId        = "12345678" />
  &lt;Client role       = "2"
      firstname  = "John"
      familyname = "Smith"
      pId        = "311270/1234" />
  &lt;Client role       = "3"
      firstname  = "Fred"
      familyname = "Brown"
      personalId = "311270/1234"
      cId        = "87654321" />
&lt;/Contract>
</textarea>
      </div>
      <input name="submit" value="Execute" type="submit" />
      <input type="hidden" name="mode" value="compose" />
      <Font style="background-color: lightgrey">
          <i>
            &nbsp;You can edit both <b>X-definition</b> and/or <b>Input data</b>
          </i>
      </Font>
    </form>
  </body>
</html>