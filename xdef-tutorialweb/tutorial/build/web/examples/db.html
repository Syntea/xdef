<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="description" content="Online create and execute database with X-definition" />
    <meta name="keywords" content="XML, database, X-definition, Xdefinition, XDEF" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="/tutorial/styles/lineNumbers.js"> </script>
    <script src="/tutorial/styles/lineNumbers_1.js"> </script>
    <style>.A{min-height:15rem; max-height:15rem;display:flex;overflow:hidden;}</style>    
    <style>.B{min-height:19rem; max-height:19rem;display:flex;overflow:hidden;}</style>    
    <title>X-definition create and execute database</title>
  </head>
  <body style="background: #EAFFFD">
    <form method="post" action="/tutorial/Derby">
      <b>X-definition</b>&nbsp;
      <i>If you have a collection with more
        X-definitions specify the name of root X-definition:
      </i>
      <input name="xdname" value="" type="text"/>
      <div class="A">
        <div id="line-numbers" class="container_1"></div>
        <textarea id="textarea" style="width: 100%;" name="xdef">
&lt;xd:def xmlns:xd="http://www.xdef.org/xdef/4.2" name="Example" root="schema" >
  &lt;xd:declaration scope = "local"> external Service service; &lt;/xd:declaration>
  &lt;schema name="string; onTrue service.execute('CREATE SCHEMA '+ getText());
                        finally outln('Dabase schema created.')">
    &lt;table xd:script="occurs +" name = "string">
      string;
      onTrue try {
        service.execute('CREATE TABLE '+xpath('../@name')+'.'+@name+' ('+getText()+')');
      } catch (Exception ex) { error(toString(ex)); }
    &lt;/table>
  &lt;/schema>
&lt;/xd:def>
</textarea>
      </div>
      <b>XML data</b>
      <div class="B">
        <div id="line-numbers_1" class="container_1"></div>
        <textarea id="textarea_1" style="width: 100%;" name="data">
&lt;schema name="BOOKS">
  &lt;table name="AUTHOR">
    IDAUTHOR INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    AUTHOR VARCHAR(100) NOT NULL, PRIMARY KEY(IDAUTHOR), UNIQUE (AUTHOR)
  &lt;/table>
  &lt;table name="TITLE">
    IDTITLE INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    TITLE VARCHAR(100) NOT NULL, ISSUED INTEGER, ISBN VARCHAR(10) NOT NULL,
    PRIMARY KEY(IDTITLE), UNIQUE (TITLE, ISBN)
  &lt;/table>
  &lt;table name="TITLE_AUTHOR">
    IDTITLE_AUTHOR INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    IDAUTHOR INTEGER NOT NULL, IDTITLE INTEGER NOT NULL,
    PRIMARY KEY(IDTITLE_AUTHOR), UNIQUE (IDAUTHOR, IDTITLE),
    FOREIGN KEY (IDAUTHOR) REFERENCES BOOKS.AUTHOR(IDAUTHOR),
    FOREIGN KEY (IDTITLE) REFERENCES BOOKS.TITLE(IDTITLE)
  &lt;/table>
&lt;/schema>
</textarea>
      </div>        
      <input name='submit' value='Create database schema' type='submit'/>
      <input name="task" value="Create database" type="hidden"/>
      <i>&nbsp;You can edit <b>X-definition</b> or <b>XML data</b></i>
    </form>
  </body>
</html>