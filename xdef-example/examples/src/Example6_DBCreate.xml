<schema name="BOOKS">

  <table name="AUTHOR">
    IDAUTHOR INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    AUTHOR VARCHAR(100) NOT NULL,
    PRIMARY KEY(IDAUTHOR),
    UNIQUE (AUTHOR)
  </table>

  <table name="TITLE">
    IDTITLE INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    TITLE VARCHAR(100) NOT NULL,
    ISSUED INTEGER,
    ISBN VARCHAR(10) NOT NULL,
    PRIMARY KEY(IDTITLE),
    UNIQUE (TITLE, ISBN)
  </table>

  <table name="TITLE_AUTHOR">
    IDTITLE_AUTHOR INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    IDAUTHOR INTEGER NOT NULL,
    IDTITLE INTEGER NOT NULL,
    PRIMARY KEY(IDTITLE_AUTHOR),
    UNIQUE (IDAUTHOR, IDTITLE),
    FOREIGN KEY (IDAUTHOR) REFERENCES BOOKS.AUTHOR(IDAUTHOR),
    FOREIGN KEY (IDTITLE) REFERENCES BOOKS.TITLE(IDTITLE)
  </table>

</schema>