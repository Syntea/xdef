<xd:def xmlns:xd="http://www.xdef.org/xdef/3.2"
  xmlns:js="http://www.w3.org/2005/xpath-functions"
  xd:root="js:map">
  <js:map>
    <xd:mixed>
      <js:string xd:script="match @key=='x'" key="'x'">optional string()</js:string>
      <js:string xd:script="match @key=='y'" key="'y'">optional string()</js:string>
      <js:array xd:script="match @key=='z'" key="'z'">
        <js:number>double()</js:number>
        <js:number>double()</js:number>
        <js:map>
          <xd:mixed>	  
            <js:string xd:script="match @key=='x'" key="'x'">optional string()</js:string>
            <js:number xd:script="match @key=='y'" key="'y'">double()</js:number>
            <js:null xd:script="match @key=='z'" key="'z'"/>
          </xd:mixed>	  
	    </js:map>
        <js:string>optional string()</js:string>
      </js:array>
      <js:string xd:script="match @key=='u'" key="'u'">optional string()</js:string>
      <js:string xd:script="match @key=='v'" key="'v'">optional string()</js:string>
    </xd:mixed>	  
  </js:map>
</xd:def>