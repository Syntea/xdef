<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="description" content="Example of X-definition" />
    <meta name="keywords" content="example, X-definition, Xdefinition, XXDEF" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="../style/lineNumbers.js"> </script>
    <script src="../style/lineNumbers_1.js"> </script>
    <style>.A{min-height:19rem;max-height:19rem;display:flex;overflow:hidden;}</style>    
    <style>.B{min-height:11rem;max-height:11rem;display:flex;overflow:hidden;}</style>
    <title>Example 4 - validation of simple data</title>
  </head>
  <body text="#000000" bgcolor="#EAFFFD" link="#000080" vlink="#0000FF" alink="#808080">
    <form method="post" action="../Example">
      <p style="font: Tahoma; font-size: 13px;">
        The X-definition below describes the root XML element "Inventory", which contains the "Book" elements.
		Each "Book" element must have an "ISBN" attribute corresponding to the validation method and may
		optionally contain a year of publication. A "Book" element may contain multiple "Author" elements
        and it must contain a "Title" element. Information on ISBNs, on number of books and errors is printed
		on the system output as follows.
        <br/>
        The input data shows the use of this definition for two books, one with multiple authors and the other
		with only the title.
        <br/>
        <i>Note XML allows to use of both <tt><b>"</b></tt> (the quote) or <tt><b>'</b></tt> the apostroph)
		  characters as a delimiter of attribute value you can reverse usage of them (you can try it
		  <a href="ch02s01e01.html"><b>HERE</b></a>).</i>
      </p>
      <b>X-definition</b> 
      <div class="A">
        <div id="line-numbers"> </div>
        <textarea id="textarea" style="width: 100%;" name="xdef">
&lt;xd:def xmlns:xd="http://www.xdef.org/xdef/4.2" name="Example" root="Inventory" >
  &lt;xd:declaration scope="global">
    void message(String s) { outln(s); }
    int count = 0;
    type isbn int(10000000, 999999999);
  &lt;/xd:declaration>

  &lt;Inventory xd:script="init message('Launched on ' + now()); finally message('Processed ' + count + ' books');" >
    &lt;Book xd:script="occurs +; onAbsence message('No books!'); finally {count++; outln('ISBN code: ' + @ISBN);}"
          ISBN="isbn; onFalse error('Incorrect ISBN!');"
          published="optional gYear();" >
      &lt;Author xd:script="occurs *"> string(); &lt;/Author>
      &lt;Title> string(); &lt;/Title>
    &lt;/Book>
  &lt;/Inventory>
&lt;/xd:def>
</textarea>
      </div>
      <b>Input data</b>
      <div class="B">
        <div id="line-numbers_1"> </div>
        <textarea id="textarea_1" style="width: 100%;" name="data">
&lt;Inventory>
  &lt;Book ISBN="123456789" published="2017">
    &lt;Author>Jiří Kamenický&lt;/Author>
    &lt;Author>Jindřich Kocman&lt;/Author>
    &lt;Author>Václav Trojan&lt;/Author>
    &lt;Title>X-definition 3.1&lt;/Title>
  &lt;/Book>
  &lt;Book ISBN="567890123">
    &lt;Title>The Bible&lt;/Title>
  &lt;/Book>
&lt;/Inventory>
</textarea>
      </div>
      <input name="submit" value="Execute" type="submit" />
      <Font style="background-color: lightgrey">
        <i>
          &nbsp;You can edit both <b>X-definition</b> and/or <b>Input data</b>
        </i>
      </Font>
    </form>
  </body>
</html>
