<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8"/>
    <script src="/tutorial/styles/lineNumbers.js"> </script>
    <script src="/tutorial/styles/lineNumbers_1.js"> </script>
    <style>.A{min-height:24rem;max-height:24rem;display:flex;overflow:hidden;}</style>    
    <style>.B{min-height:14rem; max-height:14rem; display:flex; overflow:hidden;}</style>
    <title>X-definition - the construction mode</title>
  </head>
  <body bgcolor="#EAFFFD" link="#000080" vlink="#0000FF" alink="#808080">
    <form style="background: #EAFFFD" method="post" action="/tutorial/Examples">
      <input type="hidden" name="xdname" value="" type = "text"/>
      <b>X-definition</b><br/>
      <div class="A">
        <div id="line-numbers"> </div>
        <textarea id="textarea" style="width: 100%;" name="xdef">
&lt;xd:def xmlns:xd = "http://www.xdef.org/xdef/4.2" root = "Item">

&lt;Contract date = "required dateTime(); create now()"
    number = "required num(10); create from('@id')" >
  &lt;Owner xd:script = "create from('Client[@role=\'1\']')"
      cId   = "required num(8)"
      company = "required string(1,30)" />
  &lt;Holder xd:script = "create from('Client[@role=\'2\']')"
      pId       = "required string(10,11) "
      name      = "required string(1,30)"
      surname   = "required string(1,30)" />
  &lt;Policyholder xd:script = "create from('Client[@role=\'3\']')"
      company = "required string(1,30); create from('@name') + ' ' + from('@surname')"
      cId   = "required num(8)" />
&lt;/Contract>

&lt;Item xd:script='finally returnElement(xcreate("Contract"))' 
    id='num(10)' >
  &lt;Client role = 'int()' company = 'string()' cId = 'num(8)' />
  &lt;Client role = 'int()' name = 'string()' surname = 'string()' pId = 'string()' />
  &lt;Client role = 'int()' name = 'string()' surname ='string()' pId = 'string()' cId = 'string()' />
&lt;/Item>

&lt;/xd:def></textarea>
      </div>
      <b>Input data</b>
      <div class="B">
        <div id="line-numbers_1"> </div>
        <textarea id="textarea_1" style="width:100%;" name="data">
&lt;Item id='1234567890'>
  &lt;Client role = '1' company = 'SomeCompany Ltd' cId = '12345678' />
  &lt;Client role = '2' name = 'Peter' surname = 'Brown' pId = '491112/010' />
  &lt;Client role = '3' name = 'John' surname = 'Smith' pId ='491112/010' cId = '12345678' />
&lt;/Item></textarea>
      </div>
      <input name="submit" value="Execute" type="submit"/>
      <font style="background-color: lightgrey">
       <i>&nbsp;You can edit both, the X-definition and input data</i>
      </font>
    </form>
  </body>
</html>