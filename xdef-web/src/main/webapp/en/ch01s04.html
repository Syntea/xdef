<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="description" content="X-definition, X-script sections and events" />
    <meta name="keywords" content="XML, model, X-script, sections, events, X-definition, Xdefinition, XXDEF" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>1.4. X-script sections and events</title>
    <link rel="stylesheet" href="/tutorial/styles/syntea.css" type="text/css" />
    <link type="text/css" rel="stylesheet" href="/tutorial/styles/SyntaxHighlighter.css"/>
    <script src="/tutorial/highlighter/shCore.js"> </script>
    <script src="/tutorial/highlighter/shBrushXml.js"> </script>    
  </head>
  <body>
    <div id="footer" class="box" style='margin: 0; padding: 0; text-align: center;'>
      <a href="ch01.html"><img src="/tutorial/images/first1.gif" border=0 alt="Previous chapter"></a>
      <a href="ch01s03.html"><img src="/tutorial/images/prev1.gif" border=0 alt="Back"></a>
      <a href="ch01s05.html"><img src="/tutorial/images/next1.gif" border=0 alt="next"></a>
      <a href="ch02.html"><img src="/tutorial/images/last1.gif" border=0 alt="Next chapter"></a>
    </div>
    <div id="body">
      <h2 style="clear: both">1.4. X-script sections and events</h2>
        &nbsp;&nbsp;&nbsp;
		The X-script of an element, attribute, or text node can contain several parts. Parts of an X-script
		is divided to different sections containig code whih is executed in different situations.<br/>
		&nbsp;&nbsp;&nbsp;
		So far, we have described the element quantifier and also the method used to verify the text value of
		an attribute or text node. This pair is called the <b>validation section</b> (specifying a validation
		section is allowed only in the X-script of attributes and text nodes). The other sections are quoted
		using a keyword that indicates the situation or event when the section code will be invoked:
		<br/><br/>
<pre>
onTrue         invoked if validation method in the validation section of an attribute found data value correct.
onFalse        invoked if validation method in the validation section of an attribute or text node found an error.
init           invoked when the processing of the item started (before other actions).
onElementStart invoked when all attributes were processed before processing of child nodes of processed element.
default        invoked if an attribute or text node is missing. The invoked code must return the required value.
onAbsence      invoked if the item is missing (never invoked if "default" is specified).
create         invoked only in the construction mode (will be described later).
finally        invoked at the end of the processing of the element.
match          called before processing the item. The called code must return a parsed result or a boolean value.
               The item is accepted for further processing if no error is reported or if result value is true.
option         parameters used when an item is processed.
</pre>
Example:
<pre class="xml">
&lt;Book xd:script="init outln('Book process started'); finally outln('end'); option ignoreComments, trimAttr, trimText"
      ISBN="int(10000000, 999999999); onTrue outln('ISBN is OK'); onFalse outln('ISBN error');"
      published="optional gYear(); onAbsence outln('date missing');" > 
  &lt;Author xd:script="occurs *"> string(); onTrue outln('Author: ' + getText()); &lt;/Author>
  &lt;Title> string(); onTrue outln('Title: ' + getText()); &lt;/Title>
&lt;/Book>
</pre>
    </div>
    <script type="text/javascript">
      dp.SyntaxHighlighter.HighlightAll('code');
    </script>
  </body>
</html>